<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login/Logout Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="flex items-center justify-center h-screen bg-gray-100">

  <div id="auth-box" class="w-96 p-6 bg-white rounded-2xl shadow-lg">
    <!-- Register Form -->
    <div id="register-box" class="hidden">
      <h2 class="text-2xl font-bold mb-4">Register</h2>
      <input id="regEmail" type="email" placeholder="Email" class="w-full mb-2 p-2 border rounded"/>
      <input id="regPass" type="password" placeholder="Password" class="w-full mb-2 p-2 border rounded"/>
      <button onclick="register()" class="w-full bg-blue-500 text-white py-2 rounded">Register</button>
      <p class="mt-2 text-sm">Already have an account? 
        <a href="#" onclick="showLogin()" class="text-blue-600">Login</a>
      </p>
    </div>

    <!-- Login Form -->
    <div id="login-box">
      <h2 class="text-2xl font-bold mb-4">Login</h2>
      <input id="loginEmail" type="email" placeholder="Email" class="w-full mb-2 p-2 border rounded"/>
      <input id="loginPass" type="password" placeholder="Password" class="w-full mb-2 p-2 border rounded"/>
      <button onclick="login()" class="w-full bg-green-500 text-white py-2 rounded">Login</button>
      <p class="mt-2 text-sm">No account? 
        <a href="#" onclick="showRegister()" class="text-blue-600">Register</a>
      </p>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="hidden">
      <h2 class="text-xl font-bold mb-4">Welcome, <span id="userEmail"></span></h2>
      <button onclick="logout()" class="w-full bg-red-500 text-white py-2 rounded">Logout</button>
    </div>
  </div>

  <script>
    function showRegister() {
      document.getElementById("login-box").classList.add("hidden");
      document.getElementById("register-box").classList.remove("hidden");
    }

    function showLogin() {
      document.getElementById("register-box").classList.add("hidden");
      document.getElementById("login-box").classList.remove("hidden");
    }

    function register() {
      const email = document.getElementById("regEmail").value;
      const pass = document.getElementById("regPass").value;

      if(localStorage.getItem(email)) {
        alert("Email already registered!");
        return;
      }
      localStorage.setItem(email, pass);
      alert("Registered successfully!");
      showLogin();
    }

    function login() {
      const email = document.getElementById("loginEmail").value;
      const pass = document.getElementById("loginPass").value;

      const storedPass = localStorage.getItem(email);
      if(storedPass && storedPass === pass) {
        localStorage.setItem("loggedInUser", email);
        showDashboard(email);
      } else {
        alert("Invalid credentials!");
      }
    }

    function showDashboard(email) {
      document.getElementById("login-box").classList.add("hidden");
      document.getElementById("register-box").classList.add("hidden");
      document.getElementById("dashboard").classList.remove("hidden");
      document.getElementById("userEmail").innerText = email;
    }

    function logout() {
      localStorage.removeItem("loggedInUser");
      document.getElementById("dashboard").classList.add("hidden");
      showLogin();
    }

    // Auto-login if session exists
    const loggedInUser = localStorage.getItem("loggedInUser");
    if(loggedInUser) {
      showDashboard(loggedInUser);
    }
  </script>
</body>
</html>
